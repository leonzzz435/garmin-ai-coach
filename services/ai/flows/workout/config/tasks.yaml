activity_context_task:
  name: activity_context_analysis
  description: >
    As a training context specialist, analyze the athlete's recent training data to provide
    essential context for workout design decisions.

    User Profile:
    ```json
    {user_profile}
    ```

    Activity Data:
    ```json
    {activities_data}
    ```

    Current Date:
    ```json
    {current_date}
    ```
  expected_output: >
    A clear analysis of recent training patterns and their implications for workout design.
    Include an Activity Readiness Score (0-100) reflecting current training status.
  output_file: stuff/workouts/activity_context.md
  agent: activity_context_agent

competition_planning_task:
  name: competition_planning
  description: >
    As a strategic competition planning expert, develop an optimal training phase plan
    based on the athlete's competition schedule and goals.

    User Profile:
    ```json
    {user_profile}
    ```

    Upcoming Competitions:
    ```json
    {competitions}
    ```

    Current Date:
    ```json
    {current_date}
    ```
  expected_output: >
    A comprehensive training phase plan that optimizes preparation for upcoming competitions.
    Include clear progression strategy and key preparation phases.
  output_file: stuff/workouts/training_phase.md
  agent: competition_planner_agent

workout_task:
  name: workout_generation
  description: >
    As an elite workout design specialist, create optimized training sessions based on
    the athlete's current context, readiness, and competition goals.

    Athlete Context:
    ```json
    {athlete_context}
    ```

    Metrics Analysis:
    ```json
    {metrics_analysis}
    ```

    Physiology Analysis:
    ```json
    {physiology_analysis}
    ```

    Current Date:
    ```json
    {current_date}
    ```

    Additional user-provided philosophical insights:
    ```json
    {meta}
    ```
  expected_output: >
    Three distinct training options (A, B, C) tailored to the athlete's current status
    and aligned with competition goals. Focus on clear organization and comprehensive content.
  output_file: stuff/workouts/generated.md
  agent: workout_agent

formatter_task:
  name: format_to_html
  description: >
    As a minimalist HTML formatter, transform the provided content into a compact, efficient HTML document.
    
    REQUIREMENTS:
    - Create a well-structured HTML document that preserves all important content
    - Balance readability with reasonable file size
    - Include key data points and insights with appropriate context and explanations
    - Use efficient HTML structure and clean CSS
    - Avoid unnecessary redundancy while maintaining content integrity
    
    Content Organization Process:
    1. Include all important content (key insights, workout details, and supporting information)
    2. Create a well-structured HTML document with appropriate organization
    3. Use clean, readable CSS that enhances the presentation
    4. Present information in a logical, coherent manner
    5. Use decorative elements where they enhance understanding
    
    Workout-Specific Requirements:
    - Preserve the complete structure of workout options (A, B, C)
    - Include all intensity targets, heart rate zones, and their context
    - Present all interval durations, distances, and related details
    - Include all technical cues, safety warnings, and explanations
    - Provide comprehensive, actionable information with appropriate context
    
    Style Guidelines (balanced with minimalism):
    - Use emojis selectively for key content only:
      • 🎯 for goals and key points
      • 💪 for workout sections
      • ⚡ for intensity targets
      • ⚠️ for important cautions
    
    HTML Best Practices:
    - Use appropriate CSS classes and styles for consistent presentation
    - Create clean, well-structured markup
    - Balance text content with helpful visual elements
    - Use effective selectors and styling approaches
    - Create a final HTML document that balances completeness with reasonable file size
  expected_output: >
    A well-structured HTML document without '```' that:
    1. Has proper document structure (DOCTYPE, html/head/body)
    2. Uses clean, effective CSS styling
    3. Presents workout content clearly with appropriate detail and context
    4. Preserves all important workout details, safety information, and supporting explanations
    5. Balances completeness with reasonable file size
  output_file: stuff/workouts/formatted.html
  agent: formatter_agent
  max_retries: 10
